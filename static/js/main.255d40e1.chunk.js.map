{"version":3,"sources":["app/square/index.js","app/board/index.js","utils/getShips.js","app/ui/index.js","utils/getNames.js","app/index.js","utils/getSquares.js","serviceWorker.js","index.js"],"names":["square","color","style","width","height","border","backgroundColor","squares","ships","horizontals","verticals","getColor","forEach","ship","Object","values","item","x","y","length","margin","display","gridTemplateColumns","map","name","key","textAlign","id","VECTORS","FILL","X","Y","squareFill","sq","i","push","shipPartFill","yShift","xShift","checkSquare","addSquareVector","params","iterator","isX","nextSquare","firstRevers","isHit","revers","changedAngle","break","vector","v","findIndex","rv","vRest","filter","Math","random","getRandomAngleVector","getReversVector","addSquare","addFirstSquare","floor","setShip","buildShip","shipFill","hits","isSunk","tryGetShips","maxShip","customShips","console","log","max","sort","a","b","num","e","warn","pop","React","useState","getShips","setShips","paddingTop","cursor","fontSize","outline","onClick","isHorizontal","arr","str","String","getNames","hNum","vNum","h","getSquares","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message"],"mappings":"kKAEe,cAAuB,EAApBA,OAAqB,IAAbC,EAAY,EAAZA,MACxB,OACE,yBAAKC,MAAO,CACVC,MAAO,GACPC,OAAQ,GACRC,OAAQ,iBACRC,gBAAiBL,MCLR,cAAiD,IAA9CM,EAA6C,EAA7CA,QAASC,EAAoC,EAApCA,MAAOC,EAA6B,EAA7BA,YAAaC,EAAgB,EAAhBA,UAEvCC,EAAW,SAAAX,GACf,IAAIC,EAAQ,OASZ,OARAO,EAAMI,SAAQ,SAAAC,GAAI,OAAIC,OAAOC,OAAOF,EAAKA,MAAMD,SAAQ,SAAAI,GACjDA,EAAKC,IAAMjB,EAAOiB,GAAKD,EAAKE,IAAMlB,EAAOkB,IAC3B,IAAhBL,EAAKM,SAAiBlB,EAAQ,WACd,IAAhBY,EAAKM,SAAiBlB,EAAQ,WACd,IAAhBY,EAAKM,SAAiBlB,EAAQ,WACd,IAAhBY,EAAKM,SAAiBlB,EAAQ,kBAG3BA,GAGT,OACE,yBAAKC,MAAO,CAAEkB,OAAQ,OAAQjB,MAAO,MAEnC,yBAAKD,MAAO,CACVmB,QAAS,OACTC,oBAAqB,qBAErB,+BAECb,EAAYc,KAAI,SAAAC,GAAI,OACnB,yBACEC,IAAKD,EACLtB,MAAO,CACLC,MAAO,GACPC,OAAQ,GACRsB,UAAW,WAGZF,OAKP,yBAAKtB,MAAO,CACVmB,QAAS,OACTC,oBAAqB,cAErB,6BACGZ,EAAUa,KAAI,SAAAC,GAAI,OACjB,yBACEC,IAAKD,EACLtB,MAAO,CACLC,MAAO,GACPC,OAAQ,GACRsB,UAAW,WAGZF,OAKP,yBAAKtB,MAAO,CACVmB,QAAS,OACTC,oBAAqB,qBAEpBf,EAAQgB,KAAI,SAAAvB,GAAM,OACjB,kBAAC,EAAD,CACEyB,IAAKzB,EAAO2B,GACZ3B,OAAQA,EACRC,MAAOU,EAASX,YCpExB4B,EAAU,CAAC,KAAM,QAAS,OAAQ,QACpCC,EAAO,GACPC,EAAI,EACJC,EAAI,EAEFC,EAAa,SAAAC,GACjB,KAAIA,EAAGhB,EAAI,GAAKgB,EAAGhB,EAAIa,GAAKG,EAAGf,EAAI,GAAKe,EAAGf,EAAIa,GAA/C,CAEA,IAAK,IAAIG,EAAI,EAAGA,EAAIL,EAAKV,OAAQe,IAC/B,GAAIL,EAAKK,GAAGjB,IAAMgB,EAAGhB,GAAKY,EAAKK,GAAGhB,IAAMe,EAAGf,EAAG,OAEhDW,EAAKM,KAAKF,KAGNG,EAAe,SAAApC,GAEnB,IAAK,IAAIqC,GAAU,EAAGA,GAAU,EAAGA,IACjC,IAAK,IAAIC,GAAU,EAAGA,GAAU,EAAGA,IAEjCN,EAAW,CAAEf,EAAGjB,EAAOiB,EAAIqB,EAAQpB,EAAGlB,EAAOkB,EAAImB,KAwBjDE,EAAc,SAAAN,GAClB,GAAIA,EAAGhB,EAAI,GAAKgB,EAAGhB,EAAIa,GAAKG,EAAGf,EAAI,GAAKe,EAAGf,EAAIa,EAAG,OAAO,EAEzD,IAAK,IAAIG,EAAI,EAAGA,EAAIL,EAAKV,OAAQe,IAC/B,GAAIL,EAAKK,GAAGjB,IAAMgB,EAAGhB,GAAKY,EAAKK,GAAGhB,IAAMe,EAAGf,EACzC,OAAO,EAGX,OAAO,GAGHsB,EAAkB,SAACC,EAAQC,EAAUC,GAEzC,IAAMC,EAAa,CACjB3B,EAAG0B,EACDF,EAAO5B,KAAK4B,EAAOI,YAAc,EAAIJ,EAAO5B,KAAKM,OAAS,GAAGF,EAAIyB,EACjED,EAAO5B,KAAK,GAAGI,EACjBC,EAAGyB,EACDF,EAAO5B,KAAK,GAAGK,EACfuB,EAAO5B,KAAK4B,EAAOI,YAAc,EAAIJ,EAAO5B,KAAKM,OAAS,GAAGD,EAAIwB,EACnEI,OAAO,GAGTL,EAAOI,aAAc,EAEjBN,EAAYK,GACdH,EAAO5B,KAAKsB,KAAKS,GAEPH,EAAOM,OAKPN,EAAOO,aAOjBP,EAAOQ,OAAQ,GANfR,EAAOM,QAAS,EAChBN,EAAOS,OA3CkB,SAAAA,GAC3B,IAAMC,EAAIvB,EAAQwB,WAAU,SAAAD,GAAC,OAAIA,IAAMD,KACjCG,EAAKF,EAAI,EAAIA,EAAI,EAAIA,EAAI,EAEzBG,EAAQ,CAAC,EAAG,EAAG,EAAG,GAAGC,QAAO,SAAArB,GAAC,OAAIA,IAAMiB,GAAKjB,IAAMmB,KACxD,OAAOG,KAAKC,SAAW,GAAM7B,EAAQ0B,EAAM,IAAM1B,EAAQ0B,EAAM,IAsC7CI,CAAqBjB,EAAOS,QAC5CT,EAAOO,cAAe,EACtBP,EAAO5B,KAAO,CAAC4B,EAAO5B,KAAK,MAR3B4B,EAAOM,QAAS,EAChBN,EAAOI,aAAc,EACrBJ,EAAOS,OA5Ca,SAAAA,GACtB,IAAMC,EAAIvB,EAAQwB,WAAU,SAAAD,GAAC,OAAIA,IAAMD,KACvC,OAAOC,EAAI,EAAIvB,EAAQuB,EAAI,GAAKvB,EAAQuB,EAAI,GA0C1BQ,CAAgBlB,EAAOS,UAarCU,EAAY,SAAAnB,GAEhB,OAAQA,EAAOS,QACb,KAAKtB,EAAQ,GACXY,EAAgBC,GAAS,GAAG,GAC5B,MAEF,KAAKb,EAAQ,GACXY,EAAgBC,EAAQ,GAAG,GAC3B,MAEF,KAAKb,EAAQ,GACXY,EAAgBC,EAAQ,GAAG,GAC3B,MAEF,KAAKb,EAAQ,GACXY,EAAgBC,GAAS,GAAG,KAQ5BoB,EAAiB,SAAjBA,IACJ,IAAM7D,EAAS,CACbiB,EAAGuC,KAAKM,MAAMN,KAAKC,UAAY3B,EAAI,IACnCZ,EAAGsC,KAAKM,MAAMN,KAAKC,UAAY1B,EAAI,IACnCe,OAAO,GAET,OAAOP,EAAYvC,GAAUA,EAAS6D,KAuBlCE,EAAU,SAACvD,EAAOW,EAAQQ,GAE9B,IAAId,EAtBY,SAAZmD,EAAY7C,GAWhB,IATA,IAAMsB,EAAS,CACbM,QAAQ,EACRF,aAAa,EACbK,OAAQtB,EAAQ4B,KAAKM,MAAsB,EAAhBN,KAAKC,WAChCT,cAAc,EACdnC,KAAM,CAACgD,KACPZ,OAAO,GAGFR,EAAO5B,KAAKM,OAASA,GAG1B,GAFAyC,EAAUnB,GAENA,EAAOQ,MAAO,OAAOe,EAAU7C,GAGrC,OAAOsB,EAAO5B,KAKHmD,CAAU7C,IAtHN,SAAAN,GACf,IAAK,IAAIqB,EAAI,EAAGA,EAAIrB,EAAKM,OAAQe,IAC/BE,EAAavB,EAAKqB,IAqHpB+B,CAASpD,GAETL,EAAM2B,KAAK,CACTR,KACAR,SACA+C,KAAM,EACNC,QAAQ,EACRtD,UAwCWuD,EApCK,SAAdA,EAAe7D,GAA+C,IAAtC8D,EAAqC,uDAA3B,EAAGC,EAAwB,wDACjEC,QAAQC,IAAIH,GACZxC,EAAO,GACPC,EAAI,EACJC,EAAI,EAEJxB,EAAQK,SAAQ,SAAAI,GACdc,EAAI0B,KAAKiB,IAAIzD,EAAKC,EAAGa,GACrBC,EAAIyB,KAAKiB,IAAIzD,EAAKE,EAAGa,MAGvB,IACE,IAAMvB,EAAQ,GAEd,GAAI8D,EAAa,CACfA,EAAYI,MAAK,SAACC,EAAGC,GAAJ,OAAUD,EAAIC,KAE/B,IAAK,IAAI1C,EAAI,EAAGA,EAAIoC,EAAYnD,OAAQe,IACtC6B,EAAQvD,EAAO8D,EAAYpC,GAAIA,QAIjC,IAAK,IAAIf,EAASkD,EAASQ,EAAM,EAAGlD,EAAK,EAAGR,EAAS,EAAGA,IAAU0D,IAChE,IAAK,IAAI3C,EAAI,EAAGA,EAAI2C,EAAK3C,IACvB6B,EAAQvD,EAAOW,EAAQQ,KAI7B,OAAOnB,EAEP,MAAOsE,GAEP,OADAP,QAAQQ,KAAK,gCACNX,EAAY7D,IAAW8D,EAASC,GAAeA,EAAYU,SCtLvD,cAAmD,IAAhDzE,EAA+C,EAA/CA,QAAS8D,EAAsC,EAAtCA,QAAS5D,EAA6B,EAA7BA,YAAaC,EAAgB,EAAhBA,UAAgB,EACvCuE,IAAMC,SAASC,EAAS5E,EAAS8D,IADM,mBAC1D7D,EAD0D,KACnD4E,EADmD,KAO/D,OACE,6BAEE,kBAAC,EAAD,CACE7E,QAASA,EACTC,MAAOA,EACPC,YAAaA,EACbC,UAAWA,IAGb,yBAAKR,MAAO,CACVkB,OAAQ,OACRiE,WAAY,GACZlF,MAAO,MAEP,4BAAQD,MAAO,CACboF,OAAQ,UACRC,SAAU,GACVjF,gBAAiB,OACjBkF,QAAS,EACTnF,OAAQ,kBACPoF,QAzBY,WACnBL,EAASD,EAAS5E,EAAS8D,MAkBvB,iCC1BO,WAACQ,GAA+B,IAA1Ba,EAAyB,wDACtCC,EAAM,GAMZ,IAJmB,kBAARd,GAAoBA,EAAM,IAAMA,EAAM,OAC/CA,EAAM,IAGJa,GAAgBb,GAAO,GAAI,CAG7B,IAFA,IAAIe,EAAM,6BAED1D,EAAI,EAAGA,EAAI2C,EAAK3C,IACvByD,EAAIxD,KAAKyD,EAAI1D,IAEf,OAAOyD,EAGT,GAAID,EAAc,CAChBb,GAAO,IAEP,IAAK,IAAI3C,EAAI,IAAKA,GAAK2C,EAAK3C,IAC1ByD,EAAIxD,KAAK0D,OAAO3D,IAElB,OAAOyD,EAGT,IAAK,IAAIzD,EAAI,EAAGA,GAAK2C,EAAK3C,IACxByD,EAAIxD,KAAK0D,OAAO3D,IAElB,OAAOyD,GCtBM,aACb,IAGMlF,EAAcqF,EAHP,IAGsB,GAC7BpF,EAAYoF,EAHL,IAIPvF,ECZO,SAACwF,EAAMC,GAGpB,IAFA,IAAIL,EAAM,GAEDxC,EAAI,EAAGA,EAAI6C,EAAM7C,IACxB,IAAK,IAAI8C,EAAI,EAAGA,EAAIF,EAAME,IAAK,CAE7B,IAAIjG,EAAS,CACXiB,EAAGgF,EACH/E,EAAGiC,EACHxB,GAAIgE,EAAIxE,QAEVwE,EAAIxD,KAAKnC,GAIb,OAAO2F,EDHSO,CALH,GACA,IAMb,OACE,oCACE,kBAAC,EAAD,CACE3F,QAASA,EACT8D,QATU,EAUV5D,YAAaA,EACbC,UAAWA,MERCyF,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,2DCZNC,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,SDyHpB,kBAAmBC,WACrBA,UAAUC,cAAcC,MACrBC,MAAK,SAAAC,GACJA,EAAaC,gBAEdC,OAAM,SAAAC,GACL7C,QAAQ6C,MAAMA,EAAMC,a","file":"static/js/main.255d40e1.chunk.js","sourcesContent":["import React from 'react';\n\nexport default ({ square, color }) => {\n  return (\n    <div style={{\n      width: 20,\n      height: 20,\n      border: '1px solid gray',\n      backgroundColor: color,\n    }}>\n    </div>\n  );\n};","import React from 'react';\nimport Square from '../square';\n\nexport default ({ squares, ships, horizontals, verticals }) => {\n\n  const getColor = square => {\n    let color = '#ccc';\n    ships.forEach(ship => Object.values(ship.ship).forEach(item => {\n      if (item.x === square.x && item.y === square.y) {\n        ship.length === 4 && (color = '#263238');\n        ship.length === 3 && (color = '#37474f');\n        ship.length === 2 && (color = '#455a64');\n        ship.length === 1 && (color = '#546e7a');\n      };\n    }));\n    return color;\n  };\n\n  return (\n    <div style={{ margin: 'auto', width: 264 }}>\n\n      <div style={{\n        display: 'grid',\n        gridTemplateColumns: 'repeat(11, 22px)',\n      }}>\n        <span></span>\n\n        {horizontals.map(name => (\n          <div\n            key={name}\n            style={{\n              width: 22,\n              height: 22,\n              textAlign: 'center',\n            }}\n          >\n            {name}\n          </div>\n        ))}\n      </div>\n\n      <div style={{\n        display: 'grid',\n        gridTemplateColumns: '22px auto',\n      }}>\n        <div>\n          {verticals.map(name => (\n            <div\n              key={name}\n              style={{\n                width: 22,\n                height: 22,\n                textAlign: 'center',\n              }}\n            >\n              {name}\n            </div>\n          ))}\n        </div>\n\n        <div style={{\n          display: 'grid',\n          gridTemplateColumns: 'repeat(10, 22px)',\n        }}>\n          {squares.map(square => (\n            <Square\n              key={square.id}\n              square={square}\n              color={getColor(square)}\n            />\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n};","const VECTORS = ['up', 'right', 'down', 'left'];\nlet FILL = [];\nlet X = 0;\nlet Y = 0;\n\nconst squareFill = sq => {\n  if (sq.x < 0 || sq.x > X || sq.y < 0 || sq.y > Y) return;\n\n  for (let i = 0; i < FILL.length; i++) {\n    if (FILL[i].x === sq.x && FILL[i].y === sq.y) return;\n  }\n  FILL.push(sq);\n};\n\nconst shipPartFill = square => {\n\n  for (let yShift = -1; yShift <= 1; yShift++) {\n    for (let xShift = -1; xShift <= 1; xShift++) {\n\n      squareFill({ x: square.x + xShift, y: square.y + yShift });\n    }\n  }\n};\n\nconst shipFill = ship => {\n  for (let i = 0; i < ship.length; i++) {\n    shipPartFill(ship[i]);\n  }\n};\n\nconst getReversVector = vector => {\n  const v = VECTORS.findIndex(v => v === vector);\n  return v > 1 ? VECTORS[v - 2] : VECTORS[v + 2];\n};\n\nconst getRandomAngleVector = vector => {\n  const v = VECTORS.findIndex(v => v === vector);\n  const rv = v > 1 ? v - 2 : v + 2;\n\n  const vRest = [0, 1, 2, 3].filter(i => i !== v && i !== rv);\n  return Math.random() < 0.5 ? VECTORS[vRest[0]] : VECTORS[vRest[1]];\n};\n\nconst checkSquare = sq => {\n  if (sq.x < 0 || sq.x > X || sq.y < 0 || sq.y > Y) return false;\n\n  for (let i = 0; i < FILL.length; i++) {\n    if (FILL[i].x === sq.x && FILL[i].y === sq.y) {\n      return false;\n    }\n  }\n  return true;\n};\n\nconst addSquareVector = (params, iterator, isX) => {\n\n  const nextSquare = {\n    x: isX ?\n      params.ship[params.firstRevers ? 0 : params.ship.length - 1].x + iterator :\n      params.ship[0].x,\n    y: isX ?\n      params.ship[0].y :\n      params.ship[params.firstRevers ? 0 : params.ship.length - 1].y + iterator,\n    isHit: false,\n  };\n\n  params.firstRevers = false;\n\n  if (checkSquare(nextSquare)) {\n    params.ship.push(nextSquare);\n\n  } else if (!params.revers) {\n    params.revers = true;\n    params.firstRevers = true;\n    params.vector = getReversVector(params.vector);\n\n  } else if (!params.changedAngle) {\n    params.revers = false;\n    params.vector = getRandomAngleVector(params.vector);\n    params.changedAngle = true;\n    params.ship = [params.ship[0]];\n\n  } else {\n    params.break = true;\n  }\n};\n\nconst addSquare = params => {\n\n  switch (params.vector) {\n    case VECTORS[0]:\n      addSquareVector(params, -1, false);\n      break;\n\n    case VECTORS[1]:\n      addSquareVector(params, 1, true);\n      break;\n\n    case VECTORS[2]:\n      addSquareVector(params, 1, false);\n      break;\n\n    case VECTORS[3]:\n      addSquareVector(params, -1, true);\n      break;\n\n    default:\n      break;\n  }\n};\n\nconst addFirstSquare = () => {\n  const square = {\n    x: Math.floor(Math.random() * (X + 1)),\n    y: Math.floor(Math.random() * (Y + 1)),\n    isHit: false,\n  };\n  return checkSquare(square) ? square : addFirstSquare();\n};\n\nconst buildShip = length => {\n\n  const params = {\n    revers: false,\n    firstRevers: false,\n    vector: VECTORS[Math.floor(Math.random() * 4)],\n    changedAngle: false,\n    ship: [addFirstSquare()],\n    break: false,\n  };\n\n  while (params.ship.length < length) {\n    addSquare(params);\n\n    if (params.break) return buildShip(length);\n  }\n\n  return params.ship;\n};\n\nconst setShip = (ships, length, id) => {\n\n  let ship = buildShip(length);\n  shipFill(ship);\n\n  ships.push({\n    id,\n    length,\n    hits: 0,\n    isSunk: false,\n    ship,\n  });\n};\n\nconst tryGetShips = (squares, maxShip = 4, customShips = false) => {\n  console.log(maxShip);\n  FILL = [];\n  X = 0;\n  Y = 0;\n\n  squares.forEach(item => {\n    X = Math.max(item.x, X);\n    Y = Math.max(item.y, Y);\n  });\n\n  try {\n    const ships = [];\n\n    if (customShips) {\n      customShips.sort((a, b) => a > b);\n\n      for (let i = 0; i < customShips.length; i++) {\n        setShip(ships, customShips[i], i);\n      }\n\n    } else {\n      for (let length = maxShip, num = 1, id = 0; length > 0; length--, num++) {\n        for (let i = 0; i < num; i++) {\n          setShip(ships, length, id++);\n        }\n      }\n    }\n    return ships;\n\n  } catch (e) {\n    console.warn('maximum trying to get random');\n    return tryGetShips(squares, --maxShip, customShips && customShips.pop());\n  }\n};\n\nexport default tryGetShips;","import React from 'react';\nimport Board from '../board';\nimport getShips from '../../utils/getShips';\n\nexport default ({ squares, maxShip, horizontals, verticals }) => {\n  let [ships, setShips] = React.useState(getShips(squares, maxShip));\n\n  const handleUpdate = () => {\n    setShips(getShips(squares, maxShip));\n  };\n\n  return (\n    <div>\n\n      <Board\n        squares={squares}\n        ships={ships}\n        horizontals={horizontals}\n        verticals={verticals}\n      />\n\n      <div style={{\n        margin: 'auto',\n        paddingTop: 20,\n        width: 220,\n      }}>\n        <button style={{\n          cursor: 'pointer',\n          fontSize: 18,\n          backgroundColor: '#ddd',\n          outline: 0,\n          border: '1px solid #000',\n        }} onClick={handleUpdate}>get new random battleships</button>\n      </div>\n    </div>\n  )\n};","export default (num, isHorizontal = false) => {\n  const arr = [];\n\n  if (typeof num !== 'number' || num < 10 || num > 100) {\n    num = 10;\n  }\n\n  if (isHorizontal && num <= 26) {\n    let str = 'abcdefghijklmnopqrstuvwxyz';\n\n    for (let i = 0; i < num; i++) {\n      arr.push(str[i]);\n    }\n    return arr;\n  }\n\n  if (isHorizontal) {\n    num += 100;\n\n    for (let i = 101; i <= num; i++) {\n      arr.push(String(i));\n    }\n    return arr;\n  }\n\n  for (let i = 1; i <= num; i++) {\n    arr.push(String(i));\n  }\n  return arr;\n};","import React from 'react';\nimport UI from './ui';\n\nimport getNames from '../utils/getNames';\nimport getSquares from '../utils/getSquares';\n\nexport default () => {\n  const hNum = 10;\n  const vNum = 10;\n  const maxShip = 4;\n  const horizontals = getNames(hNum, true);\n  const verticals = getNames(vNum);\n  const squares = getSquares(hNum, vNum);\n\n  return (\n    <>\n      <UI\n        squares={squares}\n        maxShip={maxShip}\n        horizontals={horizontals}\n        verticals={verticals}\n      />\n    </>\n  );\n};","export default (hNum, vNum) => {\n  let arr = [];\n\n  for (let v = 0; v < vNum; v++) {\n    for (let h = 0; h < hNum; h++) {\n\n      let square = {\n        x: h,\n        y: v,\n        id: arr.length,\n      };\n      arr.push(square);\n    }\n  }\n\n  return arr;\n};","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './app';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}