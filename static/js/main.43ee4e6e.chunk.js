(this.webpackJsonpbattleship=this.webpackJsonpbattleship||[]).push([[0],{13:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var r=n(1),i=n.n(r),a=n(8),s=n.n(a),c=(n(13),n(6)),o=n(4),u=n(2),l={canvas:{display:"block",outline:0}},f=n(0),h=function(e){var t=e.x,n=e.y,r=e.size,a=e.ships,s=i.a.createRef();return i.a.useEffect((function(){var e=r-1,i=t*r+1,c=n*r+1,o=i-2,l=c-2,f=s.current,h=f.getContext("2d");f.width=i,f.height=c,h.fillStyle="#263238",h.fillRect(0,0,i,c),h.fillStyle="#fff",h.fillRect(1,1,o,l),h.fillStyle="#b0bec5";for(var d=1;d<t;++d)h.fillRect(d*r,1,1,l);for(var p=1;p<n;++p)h.fillRect(1,p*r,o,1);h.fillStyle="#455a64";var v,b=Object(u.a)(a);try{for(b.s();!(v=b.n()).done;){var g=v.value,j=g.x,y=g.y;h.fillRect(j*r+1,y*r+1,e,e)}}catch(x){b.e(x)}finally{b.f()}}),[t,n,r,a,s]),Object(f.jsx)("canvas",{ref:s,style:l.canvas})},d={getWrapper:function(e,t){return{margin:"auto",width:(e+2)*t}},getXNames:function(e,t){return{display:"grid",gridTemplateColumns:"repeat(".concat(e+1,", ").concat(t,"px)")}},getYNamesAndField:function(e){return{display:"grid",gridTemplateColumns:"".concat(e,"px auto")}},getName:function(e){return{width:e,height:e,textAlign:"center",fontSize:e/2,lineHeight:2}}},p=function(e){var t=e.x,n=e.y,r=e.size,i=e.ships,a=e.xNames,s=e.yNames;return Object(f.jsxs)("div",{style:d.getWrapper(t,r),children:[Object(f.jsxs)("div",{style:d.getXNames(t,r),children:[Object(f.jsx)("span",{}),a.map((function(e){return Object(f.jsx)("div",{style:d.getName(r),children:e},e)}))]}),Object(f.jsxs)("div",{style:d.getYNamesAndField(r),children:[Object(f.jsx)("div",{children:s.map((function(e){return Object(f.jsx)("div",{style:d.getName(r),children:e},e)}))}),Object(f.jsx)(h,{x:t,y:n,size:r,ships:i})]})]})},v={getWrapper:function(e,t){return{margin:"auto",paddingTop:e,width:t}},getButton:function(e,t,n,r){return{width:t,height:1.5*e,cursor:"pointer",fontSize:e/2,backgroundColor:n?"#b0bec5":r?"#cfd8dc":"#fff",outline:0,border:"1px solid #263238",transition:"0.1s"}}},b=function(e){var t=e.x,n=e.size,r=e.handleUpdate,a=i.a.useState(!1),s=Object(c.a)(a,2),o=s[0],u=s[1],l=i.a.useState(!1),h=Object(c.a)(l,2),d=h[0],p=h[1],b=t*n+1;return Object(f.jsx)("div",{style:v.getWrapper(n,b),children:Object(f.jsx)("button",{onClick:function(){return r()},onMouseEnter:function(){return u(!0)},onMouseLeave:function(){return u(!1)},onFocus:function(){return p(!0)},onBlur:function(){return p(!1)},style:v.getButton(n,b,o,d),children:"GENERATE"})})},g=1e3,j=[-1001,-1,999,-1e3,0,g,-999,1,1001],y=function(e,t,n){var r,i=Math.max(e,t),a=Math.min(e,t),s=Math.ceil(a/3),c=Array(s).fill({line:i,shipsOnLine:0}),o=Object(u.a)(n);try{for(o.s();!(r=o.n()).done;){for(var l=r.value,f=!0,h=0;h<s;++h){var d=c[h],p=d.line,v=d.shipsOnLine;if(v*(l-1)+l<=p){c[h]={line:p-l-2,shipsOnLine:v+1},f=!1;break}}if(f)return!1}}catch(b){o.e(b)}finally{o.f()}return!0},x=function(e){if(!Array.isArray(e)||!e.length)return!1;var t,n=Object(u.a)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!Number.isInteger(r)||r<1)return!1}}catch(i){n.e(i)}finally{n.f()}return!0},m=function(e,t){for(var n=1,r=[n],i=r;y(e,t,r);){i=r,r=[];for(var a=++n,s=1;a>0;--a,++s)for(var c=0;c<s;++c)r.push(a)}return i},O=function(e){e instanceof Object||(e={});var t=e,n=t.x,r=t.y,i=t.shipsSizes;return(!Number.isInteger(n)||n<1||n>100)&&(n=10),(!Number.isInteger(r)||r<1||r>100)&&(r=10),x(i)?(i=Object(o.a)(i).sort((function(e,t){return t>e})),y(n,r,i)?{x:n,y:r,shipsSizes:i}:{x:n,y:r,shipsSizes:m(n,r)}):{x:n,y:r,shipsSizes:m(n,r)}},S=function(e,t){for(var n=new Set,r=0;r<t;++r)for(var i=0;i<e;++i)n.add(i*g+r);return n},N=function(){var e=Math.random()<.5?g:1,t=e===g?1:g;return[e=Math.random()<.5?e:-e,-e,t=Math.random()<.5?t:-t,-t]},w=function e(t,n){if(!n.size)return[];var r=N(),i=Object(o.a)(n)[~~(Math.random()*n.size)],a=[i];for(n.delete(i);a.length<t;){var s=a[a.length-1]+r[r.length-1];if(n.has(s))a.push(s);else{if(r.pop(),!r.length)return e(t,n);2===r.length?a=[i]:a.reverse()}}return a},z=function(e){var t,n=O(e),r=n.x,i=n.y,a=n.shipsSizes,s=S(r,i),c=[],o=Object(u.a)(a);try{for(o.s();!(t=o.n()).done;){var l=t.value;w(l,new Set(s)).forEach((function(e){c.push({x:~~(e/g),y:e%g}),j.forEach((function(t){return s.delete(e+t)}))}))}}catch(f){o.e(f)}finally{o.f()}return c},M=Object(o.a)("ABCDEFGHIJKLMNOPQRSTUVWXYZ".substring(0,10)),E=Array(10).fill().map((function(e,t){return String(t+1)})),A=function(){var e=i.a.useState(null),t=Object(c.a)(e,2),n=t[0],r=t[1],a=function(){r(z({x:10,y:10}))};return i.a.useEffect((function(){a()}),[]),n&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(p,{x:10,y:10,size:32,ships:n,xNames:M,yNames:E}),Object(f.jsx)(b,{x:10,size:32,handleUpdate:a})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(Object(f.jsx)(i.a.StrictMode,{children:Object(f.jsx)(A,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[15,1,2]]]);
//# sourceMappingURL=main.43ee4e6e.chunk.js.map