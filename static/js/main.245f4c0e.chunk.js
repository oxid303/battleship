(this.webpackJsonpbattleship=this.webpackJsonpbattleship||[]).push([[0],{13:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var r,a=n(1),i=n.n(a),o=n(8),c=n.n(o),s=(n(13),n(5)),u=n(2),l={getBoardWrapper:function(e,t){return{margin:"auto",width:(e+2)*t}},getXNames:function(e,t){return{display:"grid",gridTemplateColumns:"repeat(".concat(e+1,", ").concat(t,"px)")}},getYNamesAndBoard:function(e){return{display:"grid",gridTemplateColumns:"".concat(e,"px auto")}},getName:function(e){return{width:e,height:e,textAlign:"center",lineHeight:2}},canvas:{display:"block",outline:0}},f=n(0),h=function(e){var t=e.x,n=e.y,r=e.xNames,a=e.yNames,o=e.ships,c=i.a.createRef(),s=32;return i.a.useEffect((function(){var e=t*s+1,r=n*s+1,a=c.current,i=a.getContext("2d");a.width=e,a.height=r,i.fillStyle="#263238",i.fillRect(0,0,e,r),i.fillStyle="#fff",i.fillRect(1,1,e-2,r-2),i.fillStyle="#b0bec5";for(var l=1;l<t;++l)i.fillRect(l*s,1,1,r-2);for(var f=1;f<n;++f)i.fillRect(1,f*s,e-2,1);i.fillStyle="#455a64";var h,d=Object(u.a)(o);try{for(d.s();!(h=d.n()).done;){var v=h.value,p=v.x,b=v.y;i.fillRect(p*s+1,b*s+1,31,31)}}catch(j){d.e(j)}finally{d.f()}}),[t,n,o,c]),Object(f.jsxs)("div",{style:l.getBoardWrapper(t,s),children:[Object(f.jsxs)("div",{style:l.getXNames(t,s),children:[Object(f.jsx)("span",{}),r.map((function(e){return Object(f.jsx)("div",{style:l.getName(s),children:e},e)}))]}),Object(f.jsxs)("div",{style:l.getYNamesAndBoard(s),children:[Object(f.jsx)("div",{children:a.map((function(e){return Object(f.jsx)("div",{style:l.getName(s),children:e},e)}))}),Object(f.jsx)("canvas",{ref:c,style:l.canvas})]})]})},d={buttonWrapper:{margin:"auto",paddingTop:28,width:258},getButton:function(e,t){return{cursor:"pointer",fontSize:18,backgroundColor:e?"#b0bec5":t?"#cfd8dc":"#fff",outline:0,border:"1px solid #263238",width:258,height:50,transition:"0.1s"}}},v=function(e){var t=e.handleUpdate,n=i.a.useState(!1),r=Object(s.a)(n,2),a=r[0],o=r[1],c=i.a.useState(!1),u=Object(s.a)(c,2),l=u[0],h=u[1];return Object(f.jsx)("div",{children:Object(f.jsx)("div",{style:d.buttonWrapper,children:Object(f.jsx)("button",{onClick:function(){return t()},onMouseEnter:function(){return o(!0)},onMouseLeave:function(){return o(!1)},onFocus:function(){return h(!0)},onBlur:function(){return h(!1)},style:d.getButton(a,l),children:"generate battleships"})})})},p=n(6),b=1e3,j=[-1001,-1,999,-1e3,0,b,-999,1,1001],g=function(e,t,n){var r,a=Math.max(e,t),i=Math.min(e,t),o=Math.ceil(i/3),c=Array(o).fill({line:a,shipsOnLine:0}),s=Object(u.a)(n);try{for(s.s();!(r=s.n()).done;){for(var l=r.value,f=!0,h=0;h<o;++h){var d=c[h],v=d.line,p=d.shipsOnLine;if(p*(l-1)+l<=v){c[h]={line:v-l-2,shipsOnLine:p+1},f=!1;break}}if(f)return!1}}catch(b){s.e(b)}finally{s.f()}return!0},y=function(e){if(!Array.isArray(e)||!e.length)return!1;var t,n=Object(u.a)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!Number.isInteger(r)||r<1)return!1}}catch(a){n.e(a)}finally{n.f()}return!0},m=function(e,t){for(var n=1,r=[1],a=r;g(e,t,r);){a=r,r=[];for(var i=++n,o=1;i>0;--i,++o)for(var c=0;c<o;++c)r.push(i)}return a},x=function(e){e instanceof Object||(e={});var t=e,n=t.x,r=t.y,a=t.shipsSizes;return(!Number.isInteger(n)||n<1||n>100)&&(n=10),(!Number.isInteger(r)||r<1||r>100)&&(r=10),y(a)?(a=Object(p.a)(a).sort((function(e,t){return t-e})),g(n,r,a)?{x:n,y:r,shipsSizes:a}:{x:n,y:r,shipsSizes:m(n,r)}):{x:n,y:r,shipsSizes:m(n,r)}},O=function(e,t){for(var n=new Set,r=0;r<t;++r)for(var a=0;a<e;++a)n.add(a*b+r);return n},S=function e(t,n,r){if(!r.length)return[];for(var a=r[Math.floor(Math.random()*r.length)],i=function(){var e=[-1e3,1,b,-1],t=e[Math.floor(4*Math.random())],n=-t,r=(e=e.filter((function(e){return e!==t&&e!==n})))[Math.floor(2*Math.random())];return[-r,r,n,t]}(),o=[a];o.length<t;){var c=o[o.length-1]+i[i.length-1];if(n.has(c))o.push(c);else{if(i.pop(),!i.length)return e(t,n,r.filter((function(e){return e!==a})));2===i.length?o=[a]:o.reverse()}}return o},N=function(e){var t,n=x(e),r=n.x,a=n.y,i=n.shipsSizes,o=O(r,a),c=[],s=Object(u.a)(i);try{for(s.s();!(t=s.n()).done;){var l=t.value;S(l,o,Object(p.a)(o)).forEach((function(e){c.push(e),j.forEach((function(t){return o.delete(e+t)}))}))}}catch(f){s.e(f)}finally{s.f()}return function(e){var t,n=[],r=Object(u.a)(e);try{for(r.s();!(t=r.n()).done;){var a=t.value;n.push({x:~~(a/b),y:a%b})}}catch(f){r.e(f)}finally{r.f()}return n}(c)},w=(r=10,Array.from("ABCDEFGHIJKLMNOPQRSTUVWXYZ".substr(0,r))),M=function(e){for(var t=[],n=1;n<=e;++n)t.push(String(n));return t}(10),B=function(){var e=i.a.useState(null),t=Object(s.a)(e,2),n=t[0],r=t[1],a=function(){r(N({x:10,y:10}))};return i.a.useEffect((function(){a()}),[]),Object(f.jsx)(f.Fragment,{children:n&&Object(f.jsxs)("div",{children:[Object(f.jsx)(h,{x:10,y:10,ships:n,xNames:w,yNames:M}),Object(f.jsx)(v,{handleUpdate:a})]})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(Object(f.jsx)(i.a.StrictMode,{children:Object(f.jsx)(B,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[15,1,2]]]);
//# sourceMappingURL=main.245f4c0e.chunk.js.map