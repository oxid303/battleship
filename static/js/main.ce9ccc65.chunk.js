(this.webpackJsonpbattleship=this.webpackJsonpbattleship||[]).push([[0],{13:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var r,i=n(1),a=n.n(i),o=n(7),c=n.n(o),s=(n(13),n(8)),l=n(2),f={getBoard:function(e,t){return{margin:"auto",width:(e+2)*t}},getXNames:function(e,t){return{display:"grid",gridTemplateColumns:"repeat(".concat(e+1,", ").concat(t,"px)")}},getVerticalGrid:function(e){return{display:"grid",gridTemplateColumns:"".concat(e,"px auto")}},getName:function(e){return{width:e,height:e,textAlign:"center",lineHeight:2}},canvas:{display:"block",outline:0},buttonWrapper:{margin:"auto",paddingTop:28,width:258},button:{cursor:"pointer",fontSize:18,backgroundColor:"#fff",outline:0,border:"1px solid #263238",width:258,height:50}},u=n(0),h=function(e){var t=e.x,n=e.y,r=e.xNames,i=e.yNames,o=e.ships,c=a.a.createRef();return a.a.useEffect((function(){var e=32,r=t*e+2,i=n*e+2,a=c.current,s=a.getContext("2d");a.width=r,a.height=i,s.fillStyle="#263238",s.fillRect(0,0,r,i),s.fillStyle="#fff",s.fillRect(2,2,r-4,i-4),s.fillStyle="#b0bec5";for(var f=1;f<t;++f)s.fillRect(f*e,2,2,i-4);for(var u=1;u<n;++u)s.fillRect(2,u*e,r-4,2);s.fillStyle="#455a64";var h,d=Object(l.a)(o);try{for(d.s();!(h=d.n()).done;){var v=h.value,b=v.x,p=v.y;s.fillRect(b*e+2,p*e+2,30,30)}}catch(y){d.e(y)}finally{d.f()}}),[t,n,o,c]),Object(u.jsxs)("div",{style:f.getBoard(t,32),children:[Object(u.jsxs)("div",{style:f.getXNames(t,32),children:[Object(u.jsx)("span",{}),r.map((function(e){return Object(u.jsx)("div",{style:f.getName(32),children:e},e)}))]}),Object(u.jsxs)("div",{style:f.getVerticalGrid(32),children:[Object(u.jsx)("div",{children:i.map((function(e){return Object(u.jsx)("div",{style:f.getName(32),children:e},e)}))}),Object(u.jsx)("canvas",{ref:c,style:f.canvas})]})]})},d=n(5),v=1e3,b=[-1001,-1,999,-1e3,0,v,-999,1,1001],p=function(e,t,n){var r,i=Math.max(e,t),a=Math.min(e,t),o=Math.ceil(a/3),c=Array(o).fill({line:i,shipsOnLine:0}),s=Object(l.a)(n);try{for(s.s();!(r=s.n()).done;){for(var f=r.value,u=!0,h=0;h<o;++h){var d=c[h],v=d.line,b=d.shipsOnLine;if(b*(f-1)+f<=v){c[h]={line:v-f-2,shipsOnLine:b+1},u=!1;break}}if(u)return!1}}catch(p){s.e(p)}finally{s.f()}return!0},y=function(e){if(!Array.isArray(e)||!e.length)return!1;var t,n=Object(l.a)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!Number.isInteger(r)||r<1)return!1}}catch(i){n.e(i)}finally{n.f()}return!0},g=function(e,t){for(var n=1,r=[1],i=r;p(e,t,r);){i=r,r=[];for(var a=++n,o=1;a>0;--a,++o)for(var c=0;c<o;++c)r.push(a)}return i},j=function(e){e instanceof Object||(e={});var t=e,n=t.x,r=t.y,i=t.shipsSizes;return(!Number.isInteger(n)||n<1||n>100)&&(n=10),(!Number.isInteger(r)||r<1||r>100)&&(r=10),y(i)?(i=Object(d.a)(i).sort((function(e,t){return t-e})),p(n,r,i)?{x:n,y:r,shipsSizes:i}:{x:n,y:r,shipsSizes:g(n,r)}):{x:n,y:r,shipsSizes:g(n,r)}},m=function(e,t){for(var n=new Set,r=0;r<t;++r)for(var i=0;i<e;++i)n.add(i*v+r);return n},x=function e(t,n,r){if(!r.length)return[];for(var i=r[Math.floor(Math.random()*r.length)],a=function(){var e=[-1e3,1,v,-1],t=e[Math.floor(4*Math.random())],n=-t,r=(e=e.filter((function(e){return e!==t&&e!==n})))[Math.floor(2*Math.random())];return[-r,r,n,t]}(),o=[i];o.length<t;){var c=o[o.length-1]+a[a.length-1];if(n.has(c))o.push(c);else{if(a.pop(),!a.length)return e(t,n,r.filter((function(e){return e!==i})));2===a.length?o=[i]:o.reverse()}}return o},O=function(e){var t,n=j(e),r=n.x,i=n.y,a=n.shipsSizes,o=m(r,i),c=[],s=Object(l.a)(a);try{for(s.s();!(t=s.n()).done;){var f=t.value;x(f,o,Object(d.a)(o)).forEach((function(e){c.push(e),b.forEach((function(t){return o.delete(e+t)}))}))}}catch(u){s.e(u)}finally{s.f()}return function(e){var t,n=[],r=Object(l.a)(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;n.push({x:~~(i/v),y:i%v})}}catch(u){r.e(u)}finally{r.f()}return n}(c)},S=(r=10,Array.from("ABCDEFGHIJKLMNOPQRSTUVWXYZ".substr(0,r))),w=function(e){for(var t=[],n=1;n<=e;++n)t.push(String(n));return t}(10),N=function(){var e=a.a.useState(null),t=Object(s.a)(e,2),n=t[0],r=t[1],i=function(){r(O({x:10,y:10}))};return a.a.useEffect((function(){i()}),[]),Object(u.jsx)(u.Fragment,{children:n&&Object(u.jsxs)("div",{children:[Object(u.jsx)(h,{x:10,y:10,ships:n,xNames:S,yNames:w}),Object(u.jsx)("div",{style:f.buttonWrapper,children:Object(u.jsx)("button",{style:f.button,onClick:i,children:"generate battleships"})})]})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(N,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[15,1,2]]]);
//# sourceMappingURL=main.ce9ccc65.chunk.js.map